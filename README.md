<h1>A thousand word speller</h1>

## Project summary
A thousand word speller project consists in a BCI system based on the P300 paradigm, which allows users to create and generate art by combining different concepts or images into a new artistic image. The main objective of this tool is to assist users who have lost some or all of their motor functions to create art by using their brain waves. This project was presented at [BR41N.IO hackathon Spring School 2023](https://www.br41n.io/Spring-School-2023) and won 2nd place in the category BCI programming & arts. Here's the [link](https://www.youtube.com/watch?v=LKrOSglzkWM) to the project presentation on Youtube.

## Languages and Programs Used

- <b>Python</b>
- <b>Unicorn Suite Hybrid Black Speller</b>
- <b>ChatGPT API</b>
- <b>Stable Difussion API</b>

## Hardware used

- **Unicorn Hybrid Black**

## Project walkthrough

We designed a P300 board in the Unicorn Suite Hybrid Black Speller. The board contained a set of images that each represents a different concept, for example there is objects/colors/environments like "apple", "car", "red", "green", "forest", etc. There is also a set of images that represent the art style, for example "pixel-art", "realistic", "animated", etc. Finally, we added an image for "stop" which tells the code when to stop and start generating the new image. These images in the board are called the **items**.

![Imgur](https://i.imgur.com/fBf49Jo.png)

When the user initializes the speller, the board will start flashing and changing the board items with images of celebrities' faces by rows and columns. The user must fix their stare at the desired item that they want to include in the final generated image. After a few seconds, the P300 paradigm will calculate which was the item that the user was staring at and will store it in the section **items selections** with a respective tag. After the desired image is selected, the user needs to fix their stare at a different item until it is recognized and selected by P300. The user can repeat this process and select all the items that they want to include. 

![Imgur](https://i.imgur.com/gGSLkMJ.png)

Finally, when the user has selected all the desired items, they must fix their stare at the **stop image**, which will terminate the P300 and start the generating process with all the selected items.

When "stop" is selected, all the selected items and their tags are sent and recolected by the Python project code. The code then analizes the sent message, extracts the tags and assigns them with a string that is added into a list. The list of strings is joined into a string which is the ChatGPT prompt.

    mensaje = "Engineer an efficient image prompt to input in Stable Difussion based on the following elements: "+", ".join(lis)

The string is used as the input for a ChatGPT prompt utilizing the ChatGPT API. Afterwards, the output string generated by ChatGPT is used as the input for Stable Difussion API. The final result is the generation of an image that includes all the items selected previously by the user.

[![Watch the video](https://i.imgur.com/psnHZtH.png)](https://drive.google.com/file/d/1b8MUSWvH3CdQU92Mp-zaec4ptbHZOlPo/view?usp=sharing)

<!--
 ```diff
- text in red
+ text in green
! text in orange
# text in gray
@@ text in purple (and bold)@@
```
--!>
